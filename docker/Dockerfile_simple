# ==================================================================
# Creating a simple docker image for TOPFARM testing and docs
# ==================================================================
FROM continuumio/anaconda3:latest
MAINTAINER Jenni Rinker <rink@dtu.dk>


# get list of update linux files and install lib for matplotlib
#   (anaconda3:5.0.0 image doesn't have the library)
RUN apt update && \
    apt install libgl1-mesa-glx -y


# use conde to update itself and install packages not in the
#   anaconda3 image
RUN conda update -y conda &&\
    conda install -y sphinx_rtd_theme && \
    conda install -y pytest-cov && \
    conda clean -y --all

# use pip to install openmdao (nocache to save space)
RUN pip install --no-cache-dir openmdao
